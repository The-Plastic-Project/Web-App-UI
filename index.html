<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <title>The Plastic Project</title>
  <!-- Add some CSS to change client UI -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script>
    // define the callAPI function that takes a first name and last name as parameters
    var callAPI = (firstName, lastName) => {
      // instantiate a headers object
      var myHeaders = new Headers();
      // add content type header to object
      myHeaders.append("Content-Type", "application/json");
      // using built in JSON utility package turn object to string and store in a variable
      var raw = JSON.stringify({"firstName": firstName, "lastName": lastName});
      // create a JSON object with parameters for API call and store in a variable
      var requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: raw,
        redirect: 'follow'
      };
      // make API call with parameters and use promises to get response
      fetch("https://awmvol8fh0.execute-api.us-west-1.amazonaws.com/dev", requestOptions)
        .then(response => response.text())
        .then(result => alert(JSON.parse(result).body))
        .catch(error => console.log('error', error));
    }
  </script>
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body-tertiary" style="background-color: #f2e5d9;">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">logo</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link disabled">Home</a>
          <a class="nav-link" href="AI-demo.html" style="color: black;">AI</a>          
          <a class="nav-link" href="local.html" style="color: black;">Highlights</a>
          <a class="nav-link" href="about.html" style="color: black;">About</a>
        </div>
      </div>
    </div>
  </nav>

  <form>
    <label>First Name :</label>
    <input type="text" id="fName">
    <label>Last Name :</label>
    <input type="text" id="lName">
    <!-- set button onClick method to call function we defined passing input values as parameters -->
    <button type="button"
      onclick="callAPI(document.getElementById('fName').value,document.getElementById('lName').value)">Call API</button>
  </form>
</body>

</html>